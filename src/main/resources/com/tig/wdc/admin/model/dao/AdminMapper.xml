<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tig.wdc.admin.model.dao.AdminMapper">
	
	<resultMap id="studentList" type="StudentDTO">
		<id column="USER_NO" property="studentNo"/>
		<result column="USER_ID" property="studentId"/>
		<result column="USER_NAME" property="studentName"/>
		<result column="ENROLLDATE" property="enrollDate"/>
	</resultMap>
	
	<resultMap id="classLsit" type="ClassDTO">
		<id column="CLS_NO" property="classNo"/>
		<result column="CLS_TITLE" property="classTitle"/>
		<result column="TE_NAME" property="teacherName"/>
		<result column="CLS_PRICE" property="classPrice"/>
		<result column="CLS_TYPE" property="classType"/>
		<result column="CLS_STATUS" property="decisionStatus"/>
		
	</resultMap>
	
	<resultMap id="questionList" type="QuestionDTO" >
		<id column="Q_NO" property="questionNo"/>
		<result column="MEMBER_TYPE" property="questionType"/>
		<result column="USER_NAME" property="questionName"/>
		<result column="USER_ID" property="questionId"/>
		<result column="Q_TITLE" property="questionTitle"/>
		<result column="Q_DATE" property="questionDate"/>
	</resultMap>
	
		
	<select id="selectAllStudentList" resultMap="studentList" parameterType="StudentDTO">
		SELECT
		       USER_NO
		     , USER_ID
		     , USER_NAME
		     , ENROLLDATE
		  FROM USER_INFO  
	</select>
	
	<select id="selectAllClassList" resultMap="classLsit" parameterType="ClassDTO">
		SELECT 
		       C.CLS_NO
		     , C.CLS_TITLE
		     , C.CLS_TYPE
		     , C.CLS_PRICE
		     , C.CLS_STATUS
		     , TI.TE_NAME
		  FROM CLASS C
		  JOIN TEACHER_INFO TI ON (C.TE_NO = TI.TE_NO)
	</select>
	
	<select id="selectAllQuestionList" resultMap="questionList">
		SELECT 
			   A.Q_NO
			 , A.MEMBER_TYPE
			 , C.USER_NAME
			 , C.USER_ID
			 , A.Q_TITLE
			 , A.Q_DATE
		  FROM ADMIN_Q A
		  JOIN USER_TO_ADMIN_Q B ON (A.Q_NO = B.Q_NO)
		  JOIN USER_INFO C ON (B.USER_NO = C.USER_NO)
	</select>
	
</mapper>